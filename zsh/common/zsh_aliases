#
# common aliases
#

# config
alias zshconfig="vim ~/.zshrc"
alias omzconfig="vim ~/.oh-my-zsh"
alias sshconfig="vim ~/.ssh/config"
alias mmv='noglob zmv -W'

# system
alias nv='nvim'
alias l='ls -lhA'
alias lr='ll -RA'
alias lt='ll -t'
alias gdb='nocorrect gdb'
alias tat='tmux a -t'
alias tm='tmux attach -t main || tmux new -s main'
alias tmk='tmux kill-session -t'
alias wgetnc="wget --no-check-certificate"
alias dk="docker"
alias sshnosave="ssh -o 'UserKnownHostsFile /dev/null'"
alias sshforget='ssh-keygen -R'
alias grep="grep -i"

#
# utilities
#

# print ip and location info
alias myip='curl ipinfo.io/json'

# print fat folders
alias ducks='du -cksh $(ls -A) | sort -hr | head -n 15'

# self made dos2unix if original one does not exist
if [[ -z $(command -v dos2unix) ]]; then
alias dos2unix="sed -i 's/\r$//'"

# all CRLF to LF in one shot (binary files will be automatically skipped)
alias all2unix="find . -type f -exec dos2unix {} \;"
fi

# python
alias py='python'
alias py2='python2'
alias py3='python3'
alias pyc='python -m compileall'
alias pyc2='python2 -m compileall'
alias pyc3='python3 -m compileall'
alias serve='python3 -m http.server'
alias pip='python -m pip'
alias pip2='python2 -m pip'
alias pip3='python3 -m pip'

# node.js
alias npmlist='npm list --depth=0'
alias npmlistg='npm list -g --depth=0'

# jekyll
alias jk='jekyll'
alias jkk='$HOME/dotfiles/bin/check_jk_running.sh'

# other
alias ydl='youtube-dl'
alias lg='lazygit'
alias lk='lazydocker'
alias kittyupdate='curl -L https://sw.kovidgoyal.net/kitty/installer.sh | sh /dev/stdin'

# pgadmin
if [[ -z $(command -v pgadmin) ]]; then
  alias pgadmin="docker run -d --net=host --name pgadmin -e PGADMIN_DEFAULT_EMAIL='email@email.com' -e PGADMIN_DEFAULT_PASSWORD=password -e PGADMIN_LISTEN_PORT=54321 dpage/pgadmin4"
fi

#
# Linux-only aliases
#
if [[ "$(uname -s)" == 'Linux' ]]; then
  alias xclip="xclip -selection c"
  alias open='xdg-open'

  # custom sublime text habits are hard to die...
  if [[ $(command -v subl) ]]; then
    alias st=subl
  fi
fi

#
# macOS-only aliases
#
if [[ "$(uname -s)" == 'Darwin' ]]; then
alias st='open -a Sublime\ Text'
alias vscode='open -a Visual\ Studio\ Code'
alias fork='open -a /Applications/Fork.app'
alias listen='lsof -iTCP -sTCP:LISTEN -n -P'
fi

#
# common functions
#

# cheat.sh (as bash function)
cs() { curl cheat.sh/"$1" }

# weather
wth() { curl https://wttr.in/"$1" }

# rates
rates() { curl http://rate.sx/"$1" }

# update dotfiles
dotup() { cd ~/dotfiles && git pull origin master && cd - }





